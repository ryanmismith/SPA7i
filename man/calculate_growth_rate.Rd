% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_growth_rate.R
\name{calculate_growth_rate}
\alias{calculate_growth_rate}
\title{Calculate Growth Rate}
\usage{
calculate_growth_rate(
  hw_volume,
  sw_volume,
  max_volume,
  sw_max_rate = 0.45,
  hw_max_rate = 0.4,
  min_rate = 0.02,
  maxvol = 38
)
}
\arguments{
\item{hw_volume}{Numeric, the current volume of hardwood (e.g., cords/acre).}

\item{sw_volume}{Numeric, the current volume of softwood (e.g., cords/acre).}

\item{sw_max_rate}{Numeric, the initial growth rate for softwood, default is 0.45.}

\item{hw_max_rate}{Numeric, the initial growth rate for hardwood, default is 0.40.}

\item{min_rate}{Numeric, the minimum growth rate when the combined volume reaches or exceeds the maximum, default is 0.02.}

\item{maxvol}{Numeric, optional argument that defines the maximum allowable volume, default is 38 cords.}
}
\value{
Numeric, the calculated growth rate based on the combined HW and SW volumes and the calculated maximum volume from \code{\link{calculate_max_volume}}.
The result is constrained between the `min_rate` and the combined `start_rate`.
}
\description{
This function calculates the non-linear declining growth rate for a stand or matrix based on its hardwood (HW) and softwood (SW) volumes
as it approaches its calculated `max_volume` using the \code{\link{calculate_max_volume}} function. It factors in different starting rates for HW and SW growth
to address differences in growth behavior between them.
}
\details{
The function calculates the maximum allowable volume using the \code{\link{calculate_max_volume}} function, which can be influenced by the optional `maxvol` argument (defaulting to 38 cords).
It then uses a non-linear interpolation model to determine the growth rate as the combined HW and SW volumes increase towards the calculated maximum.
The growth rate declines quadratically and never goes below the specified minimum rate.

The calculation uses a quadratic interpolation:
\deqn{rate = start\_rate - (start\_rate - min\_rate) \times (decline\_factor^{2})}
where \deqn{decline\_factor = (current\_volume - 14) / (max\_volume - 14)}.

The starting rate for the growth calculation is determined by the proportion of HW and SW volumes and their respective
starting rates, with default values of 0.45 for SW and 0.40 for HW. The final growth rate is constrained between
the minimum rate and the calculated start rate.
}
\examples{
# Example 1: Current volume is less than but approaching max volume
hw_volumes <- c(4, 7, 12, 17, 20)
sw_volumes <- c(4, 7, 12, 17, 20)
sapply(1:length(hw_volumes), function(i) calculate_growth_rate(hw_volumes[i], sw_volumes[i]))

# Example 2: Current volume is greater than max volume
calculate_growth_rate(24, 22)

# Example 3: No Hardwood
sw_volumes_no_hw <- c(14, 24, 34, 44)
sapply(sw_volumes_no_hw, function(sw) calculate_growth_rate(0, sw))

# Example 4: No Softwood
hw_volumes_no_sw <- c(14, 24, 34, 44)
sapply(hw_volumes_no_sw, function(hw) calculate_growth_rate(hw, 0))

}
\seealso{
\code{\link{calculate_max_volume}}

Other Growth and Yield Functions: 
\code{\link{calculate_max_volume}()}
}
\concept{Growth and Yield Functions}
